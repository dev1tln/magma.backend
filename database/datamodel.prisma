enum UserRole {
  UTI
  DET
}

type User {
  id: ID! @id
  dtecre: DateTime @createdAt
  identifiant : String! @unique
  password : String!
  nom: String
  prenom: String
  role : UserRole
  unites: [Unite] @relation(name: "User_Unite",link: INLINE)
}

type Article {
  id: ID! @id
  createdAt: DateTime @createdAt
  nno: String!
  lib: String!
  untcpt: Int
  untprx: Float
  cdeapr: String
  srvpou: String
  typart: String
  numser: String
  pictureUrl : String
  localisation: Localisation @relation(link: INLINE)
}

type ArticleEmbedded @embedded {
  article_id: ID!
  nno: String!
  lib: String!
  untcpt: Int
  untprx: Float
  cdeapr: String
  srvpou: String
  typart: String
  numser: String
  pictureUrl : String
  localisation: Localisation!
}


type Unite {
  id: ID! @id
  cdeunt: String!
  dtepjc: DateTime
  libunt: String!
  typuni: String
  users: [User] @relation(name: "User_Unite")
  localisations: [Localisation] @relation(name: "Unite_Localisation")
  inventaires: [Inventaire] @relation(name: "Unite_Inventaire")
}

type Inventaire {
  id: ID! @id
  lib: String!
  dtever: DateTime
  exideb: String
  dtecre: DateTime @createdAt
  cdevrf: String
  obs: String
  articles: [ArticleEmbedded] @constraint(uniqueItems: true)
  unite : Unite! @relation(name: "Unite_Inventaire", link: INLINE)
}

type Localisation {
  id: ID! @id
  lib: String!
  unite : Unite! @relation(name: "Unite_Localisation", link: INLINE)
}